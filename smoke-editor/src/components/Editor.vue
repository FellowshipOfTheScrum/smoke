<template>

  <div class = "editor">
    <b-dropdown v-model="selectedLanguage">
      <button slot="trigger" class="button is-primary">
        <span>{{ selectedLanguage.name }}</span>
        <b-icon icon="arrow-down"/>
      </button>

      <b-dropdown-item v-for="lang in languages"
                       v-bind:value="lang"
                       v-bind:key="lang.name">
        {{ lang.name }}
      </b-dropdown-item>
    </b-dropdown>

    <!--This is the Resize button-->
    <WindowMinimizeIcon/>
    <div class = "MinimizeIcon">
                <span class="mdi-window-minimize">
                  <i class="fas window-minimize"></i> <!--Somehow doesn't show the icon-->
                </span>
    </div>

    <brace style="height: 500px"
           :fontsize="'12px'"
           :theme="'github'"
           :mode="selectedLanguage.tag"
           :codefolding="'markbegin'"
           :softwrap="'free'"
           :selectionstyle="'text'"
           :highlightline="true">
    </brace>
  </div>
</template>



<script>
  import Vue from 'vue'
  import Brace from 'vue-bulma-brace'
  import Buefy from 'buefy'
  import MinimizeIcon from 'vue-material-design-icons/window-minimize.vue'
  // import 'buefy/lib/buefy.css'

  Vue.use(Buefy)

  export default{
    components: {
      Brace,
      MinimizeIcon
    },
    data: function () {
      let languages = [
        {
          name: 'Python 3',
          tag: 'python'
        },
        {
          name: 'Python 2',
          tag: 'python'
        },
        {
          name: 'Ruby',
          tag: 'ruby'
        },
        {
          name: 'Java',
          tag: 'java'
        },
        {
          name: 'JavaScript',
          tag: 'javascript'
        },
        {
          name: 'C++',
          tag: 'cpp'
        },
        {
          name: 'Erlang',
          tag: 'erlang'
        }
      ]
      return {
        languages: languages,
        selectedLanguage: languages[0]
      }
    }
  }
</script>
